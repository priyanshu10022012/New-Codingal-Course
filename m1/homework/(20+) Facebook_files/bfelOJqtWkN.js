;/*FB_PKG_DELIM*/

__d("useBaseTokenizerSubscriptionDataSourceFetchResolverNetwork",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useEffect,j=b.useRef,k=b.useState;function a(a){var b=d("react-compiler-runtime").c(9),c=a.dataSource;a=k(!1);var e=a[0],f=a[1],g=j(null);b[0]!==c?(a=function(a){var b,d=a.onResolvePayload;a=a.requestParams;(b=g.current)==null?void 0:b.unsubscribe();g.current=c.fetchNetwork(a).subscribe({complete:function(){f(!1)},error:function(a){f(!1)},next:function(a){return d(a)},start:function(a){f(!0)},unsubscribe:function(){f(!1)}})},b[0]=c,b[1]=a):a=b[1];a=a;var h,l;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(h=function(){return function(){var a;(a=g.current)==null?void 0:a.unsubscribe()}},l=[],b[2]=h,b[3]=l):(h=b[2],l=b[3]);i(h,l);b[4]!==e?(h={isLoading:e},b[4]=e,b[5]=h):h=b[5];b[6]!==a||b[7]!==h?(l=[h,a],b[6]=a,b[7]=h,b[8]=l):l=b[8];return l}g["default"]=a}),98);
__d("useBaseTokenizerSubscriptionDataSourceFetchResolver",["cometTypeaheadODSLogFetchNetworkEvent","cr:2557","react","react-compiler-runtime","recoverableViolation","useBaseTokenizerSubscriptionDataSourceFetchResolverNetwork","useDebouncedComet"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");e.useCallback;var i=e.useEffect,j=e.useRef;function a(a,e){var f=d("react-compiler-runtime").c(17),g=a.dataSource,h=a.dataSourceFetchConfigParams,k=a.onResolvePayload;f[0]!==h?(a=h===void 0?{}:h,f[0]=h,f[1]=a):a=f[1];h=a;a=h.requestFlow;h=h.shouldDebounceNetwork;a=a===void 0?void 0:a;var l=h===void 0?!0:h;f[2]!==g?(h={dataSource:g},f[2]=g,f[3]=h):h=f[3];g=c("useBaseTokenizerSubscriptionDataSourceFetchResolverNetwork")(h);h=g[0];var m=g[1];g=h.isLoading;var n=c("useDebouncedComet")(m);f[4]!==k?(h=function(a,b){var d=b.isTraceComplete;b=b.source;try{k(a,{isTraceComplete:d,source:b})}catch(a){c("recoverableViolation")("Failed to resolve fetched payload","search")}return b},f[4]=k,f[5]=h):h=f[5];var o=h,p=j(a);f[6]!==o?(h=function(a){o(a,{isTraceComplete:!0,source:a.entries.length>0?"network":"network-no-results"}),c("cometTypeaheadODSLogFetchNetworkEvent")&&c("cometTypeaheadODSLogFetchNetworkEvent")("comet.ta.fetch",!0,1),b("cr:2557")&&b("cr:2557")(["all"],a)},f[6]=o,f[7]=h):h=f[7];var q=h;f[8]!==m||f[9]!==n||f[10]!==e||f[11]!==q||f[12]!==l?(a=function(){var a=function(a){a=a.requestParams;var b=a.requestFlow;b!=null&&(p.current=b);b={onResolvePayload:q,requestParams:babelHelpers["extends"]({},a,{requestFlow:p.current})};Boolean(l)?n(b):m(b)};e!=null&&a(e)},h=[m,n,e,q,l],f[8]=m,f[9]=n,f[10]=e,f[11]=q,f[12]=l,f[13]=h,f[14]=a):(h=f[13],a=f[14]);i(a,h);f[15]!==g?(a=[{isLoading:g}],f[15]=g,f[16]=a):a=f[16];return a}g["default"]=a}),98);
__d("useBaseTokenizerSubscriptionDataSourceFetch",["react","react-compiler-runtime","recoverableViolation","useBaseTokenizerSubscriptionDataSourceFetchResolver"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useState;function a(a){var b,e=d("react-compiler-runtime").c(9),f=i(null),g=f[0],h=f[1];f=c("useBaseTokenizerSubscriptionDataSourceFetchResolver")(a,g);a=f[0];f=a.isLoading;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(a,b){b=b===void 0?"all":b;h({requestParams:a,source:b})},e[0]=a):a=e[0];var j=a;e[1]!==g?(a=function(a){a=a||{};var b=a.requestFlow;a=a.source;if(g==null){c("recoverableViolation")("Refetch cannot be called with undefined `fetchParams`","search");return}var d=g.requestParams,e=d.loggingEventTrace;d=babelHelpers.objectWithoutPropertiesLoose(d,["loggingEventTrace"]);e=babelHelpers["extends"]({loggingEventTrace:babelHelpers["extends"]({},e,{sequenceID:String(Date.now())}),requestFlow:b},d);j(e,a)},e[1]=g,e[2]=a):a=e[2];a=a;b=(b=g==null?void 0:g.source)!=null?b:"all";var k;e[3]!==f||e[4]!==b?(k={isLoading:f,source:b},e[3]=f,e[4]=b,e[5]=k):k=e[5];e[6]!==a||e[7]!==k?(f=[k,j,a],e[6]=a,e[7]=k,e[8]=f):f=e[8];return f}g["default"]=a}),98);
__d("CometInternalTokenizerSubscriptionProvider",["CometInternalTokenizerFetchContext","CometInternalTypeaheadEmptyFetchProvider","react","react-compiler-runtime","useBaseTokenizerSubscriptionDataSourceFetch","useCometInternalTypeaheadStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;b.useMemo;function a(a){var b=d("react-compiler-runtime").c(20),e=a.children,f=a.dataSource,g=a.dataSourceFetchConfigParams,h=a.onFetchEntries_DO_NOT_USE,j=a.traceProvider;a=c("useCometInternalTypeaheadStateDispatcher")();var k=a.dispatchActiveEntries;b[0]!==k||b[1]!==h||b[2]!==j?(a=function(b,a){var c;b=b.entries;var d=a.isTraceComplete;a=a.source;k((c=b)!=null?c:[]);h&&h(b);j&&!j.isResolved()&&(d&&(a==="cache"&&b.length>=j.getEntriesCountForVisualComplete()?j.setEndReason("max_suggestions_reached"):a==="network"?j.setEndReason("all_queries_completed"):a==="network-no-results"&&j.setEndReason("all_queries_completed_no_network_results"),j.resolve()))},b[0]=k,b[1]=h,b[2]=j,b[3]=a):a=b[3];a=a;var l;b[4]!==f||b[5]!==g||b[6]!==a?(l={dataSource:f,dataSourceFetchConfigParams:g,onResolvePayload:a},b[4]=f,b[5]=g,b[6]=a,b[7]=l):l=b[7];f=c("useBaseTokenizerSubscriptionDataSourceFetch")(l);g=f[0];a=f[1];l=f[2];f=g.isLoading;g=g.source;var m;b[8]!==a||b[9]!==f||b[10]!==l||b[11]!==g?(m={fetch:a,isLoading:f,refetch:l,source:g},b[8]=a,b[9]=f,b[10]=l,b[11]=g,b[12]=m):m=b[12];a=m;l=a;b[13]!==e||b[14]!==f||b[15]!==g?(m=i.jsx(c("CometInternalTypeaheadEmptyFetchProvider"),{isLoading:f,source:g,children:e}),b[13]=e,b[14]=f,b[15]=g,b[16]=m):m=b[16];b[17]!==m||b[18]!==l?(a=i.jsx(c("CometInternalTokenizerFetchContext").Provider,{value:l,children:m}),b[17]=m,b[18]=l,b[19]=a):a=b[19];return a}g["default"]=a}),98);
__d("BaseSubscriptionTokenizer.react",["CometInternalTokenizerSubscriptionProvider","CometInternalTypeaheadStateProvider","CometTokenizerInternal.react","emptyFunction","react","react-compiler-runtime","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useId,k=[];function a(a){var b=d("react-compiler-runtime").c(62),e,f,g,h,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G;b[0]!==a?(p=a.autoOpen,x=a.autoFocus,e=a.dataSource,f=a.dataSourceFetchConfigParams,y=a.decorators,h=a.inputRef,g=a.emptyEntries_DO_NOT_USE,n=a.id,z=a.isDisabled,A=a.label,m=a.loggingContext,B=a.onAddToken,C=a.onBlur,l=a.onChangeTokens,D=a.onClose,E=a.onEscape,q=a.onFocus,r=a.onOpen,s=a.onRemoveToken,t=a.onSearchCompletion,u=a.placeholder,v=a.testid,G=a.tokensStrategyRenderer,o=a.tokens,w=a.viewRole,F=babelHelpers.objectWithoutPropertiesLoose(a,["autoOpen","autoFocus","dataSource","dataSourceFetchConfigParams","decorators","inputRef","emptyEntries_DO_NOT_USE","id","isDisabled","label","loggingContext","onAddToken","onBlur","onChangeTokens","onClose","onEscape","onFocus","onOpen","onRemoveToken","onSearchCompletion","placeholder","testid","tokensStrategyRenderer","tokens","viewRole"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=l,b[6]=m,b[7]=n,b[8]=o,b[9]=p,b[10]=q,b[11]=r,b[12]=s,b[13]=t,b[14]=u,b[15]=v,b[16]=w,b[17]=x,b[18]=y,b[19]=z,b[20]=A,b[21]=B,b[22]=C,b[23]=D,b[24]=E,b[25]=F,b[26]=G):(e=b[1],f=b[2],g=b[3],h=b[4],l=b[5],m=b[6],n=b[7],o=b[8],p=b[9],q=b[10],r=b[11],s=b[12],t=b[13],u=b[14],v=b[15],w=b[16],x=b[17],y=b[18],z=b[19],A=b[20],B=b[21],C=b[22],D=b[23],E=b[24],F=b[25],G=b[26]);a=p===void 0?!1:p;p=x===void 0?!1:x;b[27]!==y?(x=y===void 0?[]:y,b[27]=y,b[28]=x):x=b[28];var H=x;y=z===void 0?!1:z;x=A===void 0?"":A;z=B===void 0?c("emptyFunction"):B;A=C===void 0?c("emptyFunction"):C;B=D===void 0?c("emptyFunction"):D;C=E===void 0?c("emptyFunction"):E;D=q===void 0?c("emptyFunction"):q;E=r===void 0?c("emptyFunction"):r;q=s===void 0?c("emptyFunction"):s;r=t===void 0?c("emptyFunction"):t;s=u===void 0?"":u;t=v===void 0?"":v;u=w===void 0?"listbox":w;v=j();b[29]!==H?(w=function(){var a;a=c("CometTokenizerInternal.react");H.forEach(function(b){var c=b.decorate;b=b.params;a=c(a,b)});return a},b[29]=H,b[30]=w):w=b[30];w=c("useStable")(w);x=x||s;n=(n=n)!=null?n:v;if(b[31]!==w||b[32]!==p||b[33]!==h||b[34]!==A||b[35]!==l||b[36]!==C||b[37]!==D||b[38]!==z||b[39]!==q||b[40]!==r||b[41]!==y||b[42]!==s||b[43]!==x||b[44]!==o||b[45]!==n||b[46]!==t||b[47]!==F||b[48]!==G||b[49]!==u){v=i.jsx(w,babelHelpers["extends"]({},F,{autoFocus:p,commandConfigs:k,id:n,inputRef:h,isDisabled:y,label:x,onBackspace:v=c("emptyFunction"),onBlur:A,onChangeEntries:l,onDownArrow:v,onEnter:v,onEscape:C,onFocus:D,onHighlightEntry:v,onPressEntry:z,onRemoveEntry:q,onSearchCompletion:r,onShiftTab:v,onTab:v,onUpArrow:v,placeholder:s,selectedEntries:o,testid:void 0,tokensStrategyRenderer:G,viewRole:u}));b[31]=w;b[32]=p;b[33]=h;b[34]=A;b[35]=l;b[36]=C;b[37]=D;b[38]=z;b[39]=q;b[40]=r;b[41]=y;b[42]=s;b[43]=x;b[44]=o;b[45]=n;b[46]=t;b[47]=F;b[48]=G;b[49]=u;b[50]=v}else v=b[50];b[51]!==e||b[52]!==f||b[53]!==m||b[54]!==v?(w=i.jsx(c("CometInternalTokenizerSubscriptionProvider"),{dataSource:e,dataSourceFetchConfigParams:f,loggingContext:m,children:v}),b[51]=e,b[52]=f,b[53]=m,b[54]=v,b[55]=w):w=b[55];b[56]!==a||b[57]!==g||b[58]!==B||b[59]!==E||b[60]!==w?(p=i.jsx(c("CometInternalTypeaheadStateProvider"),{autoOpen:a,emptyEntries_DO_NOT_USE:g,onClose:B,onOpen:E,children:w}),b[56]=a,b[57]=g,b[58]=B,b[59]=E,b[60]=w,b[61]=p):p=b[61];return p}g["default"]=a}),98);
__d("LsOmnipickerDataSource",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({LOCAL:0,SERVER:1,SERVER_DSQ1:2,SERVER_DSQ2:3});c=a;f["default"]=c}),66);
__d("MWChatSearchInputStrategy.react",["fbt","CometScreenReaderText.react","CometTokenizerInputStrategy.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useId;b.useMemo;var l={inputXStyle:{paddingBottom:"x1a8lsjc",$$css:!0}};e=j.forwardRef(a);function a(a,b){var e=d("react-compiler-runtime").c(16),f;e[0]!==a?(f=babelHelpers["extends"]({},a),e[0]=a,e[1]=f):f=e[1];e[2]===Symbol["for"]("react.memo_cache_sentinel")?(a={xstyle:l.inputXStyle},e[2]=a):a=e[2];a=a;a=a;var g=k(),i;e[3]!==g||e[4]!==f.ariaProps?(i=babelHelpers["extends"]({},f.ariaProps,{"aria-describedby":g}),e[3]=g,e[4]=f.ariaProps,e[5]=i):i=e[5];e[6]!==f||e[7]!==b||e[8]!==i?(a=j.jsx(c("CometTokenizerInputStrategy.react"),babelHelpers["extends"]({},f,{ariaProps:i,inputExtraProps:a,ref:b})),e[6]=f,e[7]=b,e[8]=i,e[9]=a):a=e[9];e[10]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._(/*BTDS*/"__JHASH__NSDogHXzKMm__JHASH__"),e[10]=f):f=e[10];e[11]!==g?(b=j.jsx(c("CometScreenReaderText.react"),{"aria-hidden":!0,id:g,text:f}),e[11]=g,e[12]=b):b=e[12];e[13]!==a||e[14]!==b?(i=j.jsxs(j.Fragment,{children:[a,b]}),e[13]=a,e[14]=b,e[15]=i):i=e[15];return i}f=e;g["default"]=f}),226);
__d("MWChatSearchTokenizerLightspeedSubscriptionDataSource",["LSIntEnum","MNetRankType","MWChatSearchSurfaces","MWChatSearchTypeaheadLightspeedSubscriptionDataSource","MWLSSearchIssueSearchQuerySupportedTypes","mwChatSearchPayloadDecoratorRemoveDuplicates","mwChatSearchPayloadEnumerate","relay-runtime/network/RelayObservable"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){var b=a.database,e=a.excludedIDs;e=e===void 0?[]:e;var f=a.lightspeedSupportedTypes;f=f===void 0?d("MWLSSearchIssueSearchQuerySupportedTypes").allSupportedTypes:f;var g=a.source;g=g===void 0?c("MWChatSearchSurfaces").universal:g;var i=a.includeRecommendations;i=i===void 0?!0:i;var j=a.dedupeWithOtherUserId;j=j===void 0?!1:j;var k=a.includeGroupSearch;k=k===void 0?!0:k;a=a.nullstateRankType;a=a===void 0?(h||(h=d("LSIntEnum"))).ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE):a;this.$2=[];this.$3=!1;this.$1=new(c("MWChatSearchTypeaheadLightspeedSubscriptionDataSource"))({database:b,excludedIDs:e,includeGroupSearch:k,includeMessageSearchEntry:!1,includeRecommendations:i,lightspeedSupportedTypes:f,nullstateRankType:a,source:g});this.$2=e;this.$3=j}var b=a.prototype;b.fetchNetwork=function(a){var b=this,d=a.selectedTokens;a=babelHelpers.objectWithoutPropertiesLoose(a,["selectedTokens"]);var e=this.$1.fetchNetwork(a);return c("relay-runtime/network/RelayObservable").create(function(a){e.subscribe({complete:a.complete,error:a.error,next:function(e){var f=c("mwChatSearchPayloadDecoratorRemoveDuplicates")(d,b.$3);f=c("mwChatSearchPayloadEnumerate")(f(e));return a.next(babelHelpers["extends"]({},f,{selectedTokens:d}))}})})};b.setExcludedIds=function(a){this.$1.setExcludedIds(a)};return a}();g["default"]=a}),98);
__d("MWChatSearchTypeaheadViewStrategy.react",["CometTypeaheadProgressGlimmer.react","MWChatSearchLightspeedTypeaheadViewList.react","MWJewelSearchTypeaheadViewItem.react","MessengerMSplitFlag","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;function a(a){var b=d("react-compiler-runtime").c(27),e,f;if(b[0]!==a){var g=a.ariaProps,h=a.entries,j=a.extraViewProps,k=a.highlightedEntry,l=a.isLoading;a.onAbandonTypeahead_DO_NOT_USE;var m=a.queryString,n=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","entries","extraViewProps","highlightedEntry","isLoading","onAbandonTypeahead_DO_NOT_USE","queryString"]);g=g;h=h;j=j;k=k;l=l;e=m;f=n;b[0]=a;b[1]=g;b[2]=h;b[3]=j;b[4]=k;b[5]=l;b[6]=e;b[7]=f}else g=b[1],h=b[2],j=b[3],k=b[4],l=b[5],e=b[6],f=b[7];var o=(m=j)==null?void 0:m.getIsViewItemDisabled,p=(a=(n=j)==null?void 0:n.hasReachedGroupLimit)!=null?a:!1,q=(n=(m=j)==null?void 0:m.hasReachedGxacGroupLimit)!=null?n:!1;b[8]!==o||b[9]!==p||b[10]!==q?(a=function(a){return p||(o?o(a):!1)||q&&a.rawData.isInstagramAccount},b[8]=o,b[9]=p,b[10]=q,b[11]=a):a=b[11];var r=a;j=(a=(m=j)==null?void 0:(n=m.selectedEntries)==null?void 0:n.length)!=null?a:0;b[12]!==l?(m=l&&i.jsx(c("CometTypeaheadProgressGlimmer.react"),{}),b[12]=l,b[13]=m):m=b[13];n=!c("MessengerMSplitFlag").is_msplit_account&&e===""&&j===0;b[14]!==r||b[15]!==e||b[16]!==f?(a=function(a){var b=a.entry,d=a.isActive;a=a.itemRole;return i.createElement(c("MWJewelSearchTypeaheadViewItem.react"),babelHelpers["extends"]({},f,{entry:b,isActive:d,isDisabled:r(b),key:b.key,queryString:e,role:a}))},b[14]=r,b[15]=e,b[16]=f,b[17]=a):a=b[17];b[18]!==g||b[19]!==h||b[20]!==k||b[21]!==n||b[22]!==a?(l=i.jsx(c("MWChatSearchLightspeedTypeaheadViewList.react"),{ariaProps:g,entries:h,highlightedEntry:k,showActionItems:n,testid:void 0,children:a}),b[18]=g,b[19]=h,b[20]=k,b[21]=n,b[22]=a,b[23]=l):l=b[23];b[24]!==m||b[25]!==l?(j=i.jsxs(i.Fragment,{children:[m,l]}),b[24]=m,b[25]=l,b[26]=j):j=b[26];return j}g["default"]=a}),98);
__d("OmnipickerSearchResultSelectedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("934");b=d("FalcoLoggerInternal").create("omnipicker_search_result_selected",a);e=b;g["default"]=e}),98);
__d("OmnipickerSearchUISectionType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({NULL_STATE_SUGGESTED:1,NULL_STATE_XAC_FOLLOWING:2,QUERY_SUGGESTED:3,QUERY_NON_FOLLOWING:4,QUERY_XAC_FOLLOWING:5,QUERY_XAC_NON_FOLLOWING:6,QUERY_BUSINESSES:7,OTHER:8,GROUP_CHATS:9,NULL_STATE_SUGGESTED_DIRECT_INVITE:10,NULL_STATE_CATEGORIES_DIRECT_INVITE:11,QUERY_SUGGESTED_DIRECT_INVITE:12,COMMUNITY_CHATS:13,COMMUNITY_CHATS_SEE_MORE:14,AI:15,AI_SEE_MORE:16,AI_PICKER:17,INVITE_TO_INSTAGRAM:18,INVITE_TO_INSTAGRAM_SEE_MORE:19});c=a;f["default"]=c}),66);
__d("MWOmnipickerLoggingUtils",["I64","MWSearchLogging","OmnipickerSearchResultSelectedFalcoEvent","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var c=b.searchSource,d=b.section;b=b.sectionAnalyticsName;return i(a,d,b,c)}function b(a,b){b=b.candidate.chatSearchTypeaheadDataEntry;if(b==null)return 8;b=b.rawData;var c=b.searchSource,d=b.section;b=b.sectionAnalyticsName;return i(a,d,b,c)}function i(a,b,c,e){if(a==="")return 1;if(e!=="server"||b==="")return 3;a=d("MWSearchLogging").SectionAnalyticsNameType.cast(c);if(a==null)return 8;switch(a){case d("MWSearchLogging").SectionAnalyticsNameType.CM_THREADS:return 13;case d("MWSearchLogging").SectionAnalyticsNameType.CONTACTS_GROUPS:return 3;case d("MWSearchLogging").SectionAnalyticsNameType.NON_CONTACTS:return 4;case d("MWSearchLogging").SectionAnalyticsNameType.PAGES:return 7;default:return 8}}var j=function(a){switch(a){case"server":return[2,3];case"offline":case"offline_nullstate":case"secure":return[0];default:return[]}},k=function(a){var b;if(a==null)return{final_score:0,raw_score:0,raw_score_index:"-1",request_id:""};var c=a.score;a=a.scoreIndex;return{final_score:(b=c)!=null?b:0,raw_score:(b=c)!=null?b:0,raw_score_index:(c=(h||(h=d("I64"))).to_string(a))!=null?c:"-1",request_id:""}};e=function(a,b,d,e,f,g,h,l,m,n,o,p){var q={query_string:a,result_fbid:e,result_index:((e=g)!=null?e:-1).toString(),result_type:(g=h)!=null?g:7};c("OmnipickerSearchResultSelectedFalcoEvent").log(function(){var e;return{data_sources:j(l),is_epd:c("gkx")("23390")||p,is_interop_thread:!1,mnet_request:k(f),recipient_ids:b,search_mode:1,search_result:q,session_id:(e=d)!=null?e:"",thread_id:null,ui_section:i(a,m,n,l),ui_section_index:((e=o)!=null?e:-1).toString()}})};g.mapSectionToOmnipickerSearchUISection=a;g.mapSectionToOmnipickerSearchUISectionForIG=b;g.getLoggingDataSources=j;g.getMnetRankInfo=k;g.logOmnipickerSearchResultSelectedHelper=e}),98);
__d("OmnipickerSearchQueryChangedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("928");b=d("FalcoLoggerInternal").create("omnipicker_search_query_changed",a);e=b;g["default"]=e}),98);
__d("OmnipickerSearchStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("929");b=d("FalcoLoggerInternal").create("omnipicker_search_start",a);e=b;g["default"]=e}),98);
__d("MWChatLightSpeedSearchTypeahead.react",["BaseSubscriptionTokenizer.react","MWChatSearchInputStrategy.react","MWChatSearchResultType","MWChatSearchSurfaces","MWChatSearchTokenizerLightspeedSubscriptionDataSource","MWChatSearchTypeaheadViewStrategy.react","MWLSSearchIssueSearchQuerySupportedTypes","MWOmnipickerLoggingUtils","OmnipickerSearchQueryChangedFalcoEvent","OmnipickerSearchResultSelectedFalcoEvent","OmnipickerSearchStartFalcoEvent","emptyFunction","gkx","isArmadillo","isGroupInvitesEnabled","react","useBaseTokenizerDecorators","useCometTokenizerListTokenStrategy","useReStore","uuidv4","withBaseTokenizerEscapeDecorator","withMWChatSearchTokenManagementDecorator"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useMemo,m=b.useRef,n=b.useState;function a(a){var b=a.excludedIDs,e=a.extraLayoutProps,f=a.getIsViewItemDisabled,g=a.includeRecommendations,i=g===void 0?!0:g;g=a.isDisabled;var o=a.isSecure,p=a.layoutStategyRenderer,q=a.onAddToken,r=a.onChangeTokens,s=a.onSearchAbandon;s=s===void 0?c("emptyFunction"):s;var t=a.onSearchCompletion;t=t===void 0?c("emptyFunction"):t;var u=a.source,v=u===void 0?c("MWChatSearchSurfaces").universal:u;u=a.supportedSearchTypes;var w=u===void 0?d("MWLSSearchIssueSearchQuerySupportedTypes").allSupportedTypes:u;u=a.tokenItemRenderer;var x=a.tokens;a=a.xstyles;var y=n(""),z=y[0],A=y[1],B=(h||(h=c("useReStore")))(),C=c("gkx")("23390"),D=null,E=l(function(){return new(c("MWChatSearchTokenizerLightspeedSubscriptionDataSource"))({database:B,dedupeWithOtherUserId:!0,excludedIDs:b,includeRecommendations:i,lightspeedSupportedTypes:w,source:v})},[B,b,i,w,v]);y=c("useBaseTokenizerDecorators")({escapeDecorator:{decorate:c("withBaseTokenizerEscapeDecorator"),params:{onSearchAbandon:s}},tokenManagementDecorator:{decorate:c("withMWChatSearchTokenManagementDecorator"),params:{dataSource:E}}});s=m(null);var F=s.current;k(function(){F&&F.focus()},[F,x]);k(function(){if(o){var a=x.filter(function(a){return a.rawData.resultType===c("MWChatSearchResultType").USER&&a.rawData.isViewerUnconnected===!0});x.length>1&&a.length>0&&c("isGroupInvitesEnabled")()}},[x,o]);k(function(){E.setExcludedIds(b||[])},[E,b]);u=c("useCometTokenizerListTokenStrategy")({tokenItemRenderer:u});var G=l(function(){return{getIsViewItemDisabled:f,selectedEntries:x}},[f,x]),H=function(){D=c("uuidv4")(),c("OmnipickerSearchStartFalcoEvent").log(function(){var a;return{entry_surface:1,is_epd:C,omnipicker_type:1,search_mode:1,session_id:(a=D)!=null?a:""}})},I=function(a){A(a),D!=null&&c("OmnipickerSearchQueryChangedFalcoEvent").log(function(){var b;return{query_length:a.length.toString(),query_string:a,search_mode:1,session_id:(b=D)!=null?b:""}})},J=function(a){if(q==null)return;if(D==null){q(a);return}var b=a.rawData,e=b.id,f=b.rankingScore,g=b.renderIndex,h=b.searchResultType,i=b.searchSource,j=b.sectionRenderIndex,k={query_string:z,result_fbid:e,result_index:((b=g)!=null?b:-1).toString(),result_type:(e=h)!=null?e:7};c("OmnipickerSearchResultSelectedFalcoEvent").log(function(){var b;return{data_sources:d("MWOmnipickerLoggingUtils").getLoggingDataSources(i),is_epd:C,is_interop_thread:!1,mnet_request:d("MWOmnipickerLoggingUtils").getMnetRankInfo(f),recipient_ids:x.map(function(a){return a.key}),search_mode:1,search_result:k,session_id:(b=D)!=null?b:"",thread_id:null,ui_section:d("MWOmnipickerLoggingUtils").mapSectionToOmnipickerSearchUISection(z,a.rawData),ui_section_index:((b=j)!=null?b:-1).toString()}});q(a)};return j.jsx(c("BaseSubscriptionTokenizer.react"),{autoFocus:!0,dataSource:E,dataSourceFetchConfigParams:c("isArmadillo")()?{requestFlow:"network-upon-approve"}:{},decorators:y,extraLayoutProps:e,extraViewProps:G,inputRef:s,inputStrategyRenderer:c("MWChatSearchInputStrategy.react"),isDisabled:g,layoutStrategyRenderer:p,loggingContext:"messenger_chat",onAddToken:J,onChange:I,onChangeTokens:r,onOpen:H,onSearchCompletion:t,queryString:z,testid:void 0,tokens:x,tokensStrategyRenderer:u,viewStrategyRenderer:c("MWChatSearchTypeaheadViewStrategy.react"),xstyles:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatTabTokenizerInternalLayoutInlineStrategy.react",["CometScrollableArea.react","CometTokenizerInputStrategyEventListener.react","CometTypeaheadViewStrategyEventListener.react","cometHandleHighlightDropOnMouseLeave","emptyFunction","react","react-compiler-runtime","stylex","useCometInternalTypeaheadState","useCometTypeaheadKeyboardForScrollableArea","useCometTypeaheadLayoutStrategyStyles","xplatToDOMRef"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={view:{backgroundColor:"x1jx94hy",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",$$css:!0},viewHidden:{pointerEvents:"x47corl",visibility:"xlshs6z",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(99),e,f,g,i,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F;b[0]!==a?(i=a.commandConfigs,E=a.extraLayoutProps,l=a.description,m=a.errorMessage,e=a.inputStrategyRenderer,o=a.inputRef,p=a.isDisabled,q=a.label,r=a.onBackspace,s=a.onBlur,t=a.onChange,u=a.onDownArrow,v=a.onEnter,w=a.onEscape,x=a.onFocus,y=a.onShiftTab,z=a.onTab,A=a.onUpArrow,C=a.queryString,D=a.selectedEntries,f=a.tokensStrategyRenderer,g=a.viewStrategyRenderer,F=a.xstyles,n=a.extraViewProps,B=babelHelpers.objectWithoutPropertiesLoose(a,["commandConfigs","extraLayoutProps","description","errorMessage","inputStrategyRenderer","inputRef","isDisabled","label","onBackspace","onBlur","onChange","onDownArrow","onEnter","onEscape","onFocus","onShiftTab","onTab","onUpArrow","queryString","selectedEntries","tokensStrategyRenderer","viewStrategyRenderer","xstyles","extraViewProps"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=i,b[5]=l,b[6]=m,b[7]=n,b[8]=o,b[9]=p,b[10]=q,b[11]=r,b[12]=s,b[13]=t,b[14]=u,b[15]=v,b[16]=w,b[17]=x,b[18]=y,b[19]=z,b[20]=A,b[21]=B,b[22]=C,b[23]=D,b[24]=E,b[25]=F):(e=b[1],f=b[2],g=b[3],i=b[4],l=b[5],m=b[6],n=b[7],o=b[8],p=b[9],q=b[10],r=b[11],s=b[12],t=b[13],u=b[14],v=b[15],w=b[16],x=b[17],y=b[18],z=b[19],A=b[20],B=b[21],C=b[22],D=b[23],E=b[24],F=b[25]);a=E;E=a.afterViewContent;var G=a.ariaProps,H=a.beforeViewContent,I=a.helperTextComponent,J=a.isAlwaysOpened,K=a.isLoading;a=a.isOpened;var L=G.ariaDescribedByProps,M=G.ariaInputProps,N=G.ariaViewProps;b[26]!==F?(G=F===void 0?{}:F,b[26]=F,b[27]=G):G=b[27];F=G;G=c("useCometInternalTypeaheadState")();var O=G.activeEntries,P=G.highlightedEntry;b[28]!==a||b[29]!==F?(G={isOpened:a,xstyles:F},b[28]=a,b[29]=F,b[30]=G):G=b[30];F=c("useCometTypeaheadLayoutStrategyStyles")(G);G=F.inputXStyle;var Q=F.layoutXStyle,R=F.viewXStyle_DO_NOT_USE,S=c("useCometTypeaheadKeyboardForScrollableArea")(P);b[31]!==B.onHighlightEntry?(F=c("cometHandleHighlightDropOnMouseLeave")(B.onHighlightEntry),b[31]=B.onHighlightEntry,b[32]=F):F=b[32];var T=F;b[33]!==Q?(F=(h||(h=c("stylex"))).props(Q),b[33]=Q,b[34]=F):F=b[34];b[35]!==G?(Q=(h||(h=c("stylex"))).props(G),b[35]=G,b[36]=Q):Q=b[36];G=!a;var U;b[37]!==e||b[38]!==f||b[39]!==M||b[40]!==l||b[41]!==m||b[42]!==p||b[43]!==q||b[44]!==B.autoFocus||b[45]!==B.id||b[46]!==B.inputEndContent||b[47]!==B.inputExtraProps||b[48]!==B.onRemoveEntry||b[49]!==B.placeholder||b[50]!==B.testid||b[51]!==C||b[52]!==D?(U=function(a,b){return j.jsx(e,babelHelpers["extends"]({description:l},b,{ariaProps:M,autoFocus:B.autoFocus,errorMessage:m,id:B.id,inputEndContent:B.inputEndContent,inputExtraProps:B.inputExtraProps,inputStartContent:j.jsx(f,{isDisabled:p,onPress:B.onRemoveEntry,tokens:D}),isDisabled:p,label:q,placeholder:D.length>0?null:B.placeholder,queryString:C,ref:d("xplatToDOMRef").xplatToInputRef(a),testid:void 0}))},b[37]=e,b[38]=f,b[39]=M,b[40]=l,b[41]=m,b[42]=p,b[43]=q,b[44]=B.autoFocus,b[45]=B.id,b[46]=B.inputEndContent,b[47]=B.inputExtraProps,b[48]=B.onRemoveEntry,b[49]=B.placeholder,b[50]=B.testid,b[51]=C,b[52]=D,b[53]=U):U=b[53];var V;b[54]!==i||b[55]!==o||b[56]!==r||b[57]!==s||b[58]!==t||b[59]!==u||b[60]!==v||b[61]!==w||b[62]!==x||b[63]!==y||b[64]!==z||b[65]!==A||b[66]!==U||b[67]!==G?(V=j.jsx(c("CometTokenizerInputStrategyEventListener.react"),{commandConfigs:i,omitEscape:G,onBackspace:r,onBlur:s,onChange:t,onClick:c("emptyFunction"),onDownArrow:u,onEnter:v,onEscape:w,onFocus:x,onShiftTab:y,onTab:z,onUpArrow:A,ref:o,children:U}),b[54]=i,b[55]=o,b[56]=r,b[57]=s,b[58]=t,b[59]=u,b[60]=v,b[61]=w,b[62]=x,b[63]=y,b[64]=z,b[65]=A,b[66]=U,b[67]=G,b[68]=V):V=b[68];b[69]!==B.onClick||b[70]!==V||b[71]!==Q?(i=j.jsx("div",babelHelpers["extends"]({},Q,{onClick:B.onClick,role:"presentation",children:V})),b[69]=B.onClick,b[70]=V,b[71]=Q,b[72]=i):i=b[72];b[73]!==L||b[74]!==I?(o=I!=null&&j.jsx("div",babelHelpers["extends"]({},L,{children:I})),b[73]=L,b[74]=I,b[75]=o):o=b[75];b[76]!==g||b[77]!==O||b[78]!==N||b[79]!==n||b[80]!==P||b[81]!==J||b[82]!==K||b[83]!==a||b[84]!==T||b[85]!==B.onHighlightEntry||b[86]!==B.onOutsideClick||b[87]!==B.onPressEntry||b[88]!==C||b[89]!==S||b[90]!==R?(r=(a===!0||J===!0)&&j.jsx(c("CometTypeaheadViewStrategyEventListener.react"),{onOutsideClick:B.onOutsideClick,children:function(a){return j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props([k.view,R,O.length===0&&!K&&k.viewHidden]),{onMouseLeave:T,ref:a,children:j.jsx(c("CometScrollableArea.react"),{horizontal:!1,ref:S,children:j.jsx(g,{ariaProps:N,entries:O,extraViewProps:n,highlightedEntry:P,isLoading:K,onHighlightEntry:B.onHighlightEntry,onPressEntry:B.onPressEntry,queryString:C})})}))}}),b[76]=g,b[77]=O,b[78]=N,b[79]=n,b[80]=P,b[81]=J,b[82]=K,b[83]=a,b[84]=T,b[85]=B.onHighlightEntry,b[86]=B.onOutsideClick,b[87]=B.onPressEntry,b[88]=C,b[89]=S,b[90]=R,b[91]=r):r=b[91];b[92]!==E||b[93]!==H||b[94]!==i||b[95]!==o||b[96]!==r||b[97]!==F?(s=j.jsxs("div",babelHelpers["extends"]({},F,{children:[i,o,H,r,E]})),b[92]=E,b[93]=H,b[94]=i,b[95]=o,b[96]=r,b[97]=F,b[98]=s):s=b[98];return s}g["default"]=a}),98);
__d("MWChatTabTokenizerBaseLayoutInlineStrategy.react",["CometTypeaheadHelperText.react","MWChatTabTokenizerInternalLayoutInlineStrategy.react","react","react-compiler-runtime","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometInternalTokenizerFetch","useCometInternalTypeaheadState","useCometTokenizerInternalLayoutInlineStrategyHandlers","useCometTypeaheadInputRefs","useCometTypeaheadLayoutContextualStrategyARIAProps"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=d("react-compiler-runtime").c(62),e,f,g,h,k,l,m,n,o,p,q,r,s,t,u,v,w,x;b[0]!==a?(w=a.extraLayoutProps,f=a.helperText,e=a.inputRef,g=a.label,h=a.onBackspace,k=a.onBlur,l=a.onChange,m=a.onDownArrow,n=a.onEnter,o=a.onEscape,p=a.onHighlightEntry,q=a.onOutsideClick,r=a.onPressEntry,s=a.onRemoveEntry,t=a.onUpArrow,x=a.viewRole,v=a.selectedEntries,u=babelHelpers.objectWithoutPropertiesLoose(a,["extraLayoutProps","helperText","inputRef","label","onBackspace","onBlur","onChange","onDownArrow","onEnter","onEscape","onHighlightEntry","onOutsideClick","onPressEntry","onRemoveEntry","onUpArrow","viewRole","selectedEntries"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=k,b[6]=l,b[7]=m,b[8]=n,b[9]=o,b[10]=p,b[11]=q,b[12]=r,b[13]=s,b[14]=t,b[15]=u,b[16]=v,b[17]=w,b[18]=x):(e=b[1],f=b[2],g=b[3],h=b[4],k=b[5],l=b[6],m=b[7],n=b[8],o=b[9],p=b[10],q=b[11],r=b[12],s=b[13],t=b[14],u=b[15],v=b[16],w=b[17],x=b[18]);b[19]!==w?(a=w===void 0?{}:w,b[19]=w,b[20]=a):a=b[20];w=a;a=w.afterViewContent;w=w.beforeViewContent;var y=c("useCometInternalTokenizerFetch")();y=y.isLoading;var z=c("useCometInternalTypeaheadState")(),A=z.activeEntries;z=z.highlightedEntry;var B=c("useBaseTypeaheadLayoutContextualStrategyStateContext")(),C=B.dispatchIsOpened,D;b[21]!==C?(B=function(){C(!0)},D=[C],b[21]=C,b[22]=B,b[23]=D):(B=b[22],D=b[23]);j(B,D);B=c("useCometTypeaheadInputRefs")(e);D=B.composedRef;e=B.inputRef;b[24]!==h||b[25]!==k||b[26]!==l||b[27]!==m||b[28]!==n||b[29]!==o||b[30]!==p||b[31]!==q||b[32]!==r||b[33]!==s||b[34]!==t?(B={onBackspace:h,onBlur:k,onChange:l,onDownArrow:m,onEnter:n,onEscape:o,onHighlightEntry:p,onOutsideClick:q,onPressEntry:r,onRemoveEntry:s,onUpArrow:t},b[24]=h,b[25]=k,b[26]=l,b[27]=m,b[28]=n,b[29]=o,b[30]=p,b[31]=q,b[32]=r,b[33]=s,b[34]=t,b[35]=B):B=b[35];b[36]!==e||b[37]!==v||b[38]!==B?(h={handlers:B,inputRef:e,selectedEntries:v},b[36]=e,b[37]=v,b[38]=B,b[39]=h):h=b[39];k=c("useCometTokenizerInternalLayoutInlineStrategyHandlers")(h);b[40]!==A||b[41]!==f||b[42]!==z||b[43]!==g||b[44]!==x?(l={activeEntries:A,helperText:f,highlightedEntry:z,inputLabel:g,isOpened:!0,viewRole:x},b[40]=A,b[41]=f,b[42]=z,b[43]=g,b[44]=x,b[45]=l):l=b[45];m=c("useCometTypeaheadLayoutContextualStrategyARIAProps")(l);b[46]!==f?(n=f!=null?i.jsx(c("CometTypeaheadHelperText.react"),{text:f}):null,b[46]=f,b[47]=n):n=b[47];b[48]!==a||b[49]!==m||b[50]!==w||b[51]!==y||b[52]!==n?(o={afterViewContent:a,ariaProps:m,beforeViewContent:w,helperTextComponent:n,isLoading:y,isOpened:!0},b[48]=a,b[49]=m,b[50]=w,b[51]=y,b[52]=n,b[53]=o):o=b[53];b[54]!==D||b[55]!==k||b[56]!==g||b[57]!==u||b[58]!==v||b[59]!==o||b[60]!==x?(p=i.jsx(c("MWChatTabTokenizerInternalLayoutInlineStrategy.react"),babelHelpers["extends"]({},u,k,{extraLayoutProps:o,inputRef:D,label:g,selectedEntries:v,viewRole:x})),b[54]=D,b[55]=k,b[56]=g,b[57]=u,b[58]=v,b[59]=o,b[60]=x,b[61]=p):p=b[61];return p}g["default"]=a}),98);
__d("MWChatTabsTokenizerLayoutInlineStrategy.react",["fbt","MWChatTabTokenizerBaseLayoutInlineStrategy.react","QPLUserFlow","qpl","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));i.useMemo;var k={layout:{marginEnd:"xktsk01",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xi55695",$$css:!0},typeaheadInput:{backgroundColor:"xcrg951",boxSizing:"x9f619",display:"x1lliihq",paddingEnd:"x1sxyh0",paddingStart:"xurb0ha",$$css:!0},view:{backgroundColor:"xcrg951",height:"xl6hnh8",start:"xmh0m78",left:null,right:null,maxHeight:"xj8ehma",position:"x10l6tqk",top:"xdsb8wn",width:"xi55695",zIndex:"xhtitgo",$$css:!0},viewHeightDefault:{"@media (min-height: 1280px)_height":"x460g69",$$css:!0}};function a(){function a(a){var b=d("react-compiler-runtime").c(25),e,f;b[0]!==a?(f=a.xstyles,e=babelHelpers.objectWithoutPropertiesLoose(a,["xstyles"]),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);b[3]!==f?(a=f===void 0?{}:f,b[3]=f,b[4]=a):a=b[4];f=a;a=f.viewXStyle_DO_NOT_USE;var g;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(f=[k.typeaheadInput],g=[k.layout],b[5]=f,b[6]=g):(f=b[5],g=b[6]);b[7]!==a?(f={inputXStyle:f,layoutXStyle:g,viewXStyle_DO_NOT_USE:[k.view,k.viewHeightDefault,a]},b[7]=a,b[8]=f):f=b[8];g=f;a=g;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x1n2onr6"},g={className:"x80vd3b x1q0q8m5 xso031l x78zum5"},b[9]=f,b[10]=g):(f=b[9],g=b[10]);var i;b[11]===Symbol["for"]("react.memo_cache_sentinel")?(i=j.jsx("div",babelHelpers["extends"]({"aria-hidden":"true"},{className:"xzsf02u x6prxxf x1fcty0u xvq8zen x1d52u69 x1xmf6yo x1n327nk"},{children:h._(/*BTDS*/"__JHASH__6UNdxXc7Mre__JHASH__")})),b[11]=i):i=b[11];var l,m;b[12]===Symbol["for"]("react.memo_cache_sentinel")?(l={align:"start",disableAutoFlip:!0},m=h._(/*BTDS*/"__JHASH__dp6PXfW93vj__JHASH__"),b[12]=l,b[13]=m):(l=b[12],m=b[13]);var n,o;b[14]!==e?(n=function(){e.onFocus(),c("QPLUserFlow").start(c("qpl")._(25312244,"1683"))},o=function(){e.onOutsideClick(),c("QPLUserFlow").endCancel(c("qpl")._(25312244,"1683"))},b[14]=e,b[15]=n,b[16]=o):(n=b[15],o=b[16]);b[17]!==e||b[18]!==n||b[19]!==o||b[20]!==a?(g=j.jsxs("div",babelHelpers["extends"]({},g,{children:[i,j.jsx(c("MWChatTabTokenizerBaseLayoutInlineStrategy.react"),babelHelpers["extends"]({},e,{contextualProps:l,label:m,layerContext:"root",onFocus:n,onOutsideClick:o,xstyles:a}))]})),b[17]=e,b[18]=n,b[19]=o,b[20]=a,b[21]=g):g=b[21];l=(i=e.extraLayoutProps)==null?void 0:i.footer;b[22]!==g||b[23]!==l?(m=j.jsxs("div",babelHelpers["extends"]({},f,{children:[g,l]})),b[22]=g,b[23]=l,b[24]=m):m=b[24];return m}return a}g.createMWChatTabsTokenizerLayoutInlineStrategy=a}),226);
__d("MWInboxSecureThreadToggle.react",["MAWSecureThreadToggle.react","MAWThreadCutover","gkx","isTlcSearchEnabled","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(5),e=a.areWeCreatingASecureThread,f=a.disabled,g=a.setAreWeCreatingASecureThread;a=a.stretch;a=a===void 0?!1:a;var h=d("MAWThreadCutover").useIsCurrentUserCutoverUser();if(!c("gkx")("24120")&&c("isTlcSearchEnabled")()&&h)return null;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==a?(h=i.jsx(c("MAWSecureThreadToggle.react"),{areWeCreatingASecureThread:e,disabled:f,setAreWeCreatingASecureThread:g,stretch:a}),b[0]=e,b[1]=f,b[2]=g,b[3]=a,b[4]=h):h=b[4];return h}g["default"]=a}),98);
__d("MWInteropTokenUtils",["MWXacGating"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.rawData.isInstagramAccount===!0}function i(a){return a.rawData.isInteropEligible===!0}function j(a){if(d("MWXacGating").isGroupsEnabled())return a.rawData.isGroupsXacEligible===!0;else return!1}function a(a){if(h(a))if(i(a))return!j(a);else return!0;else return!1}g.isInterop=h;g.isInteropEligible=i;g.isGxacEligible=j;g.isInteropWithoutGxacSupport=a}),98);
__d("MWLightSpeedChatTabSuggestedContactItem.react",["fbt","ActorHovercard.react","BaseMiddot.react","FDSFacepilePhoto.react","I64","MAWThreadCutover","MDSListCellPressable.react","MDSTextPairing.react","MWXText.react","react","react-compiler-runtime","translatedServerString"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react");function a(a){var b=d("react-compiler-runtime").c(27),e=a.setTokens,f=a.token;a=f.rawData;var g=a.displayName,i=a.id,l=a.imageUrl,m=a.isE2EE,n=a.isInstagramAccount,o=a.subtext;a=a.threadType;var p;b[0]!==i?(p=(j||(j=d("I64"))).of_string_opt(i),b[0]=i,b[1]=p):p=b[1];p=d("MAWThreadCutover").useShouldHideE2eeAttribution(p,a);b[2]!==g?(a=c("translatedServerString")(g),b[2]=g,b[3]=a):a=b[3];var q;b[4]!==l||b[5]!==a?(q=k.jsx(c("FDSFacepilePhoto.react"),{size:36,sources:[{alt:a,disabled:!1,source:l}],totalItems:1}),b[4]=l,b[5]=a,b[6]=q):q=b[6];var r=q,s;if(b[7]!==m||b[8]!==n||b[9]!==p||b[10]!==o){s=null;if(!p&&m){b[12]===Symbol["for"]("react.memo_cache_sentinel")?(l=h._(/*BTDS*/"__JHASH__PXg4X26-RXS__JHASH__"),b[12]=l):l=b[12];s=k.jsx(c("MWXText.react"),{numberOfLines:1,type:"meta4",children:l})}else s=n===!0&&o!==""?k.jsxs(c("MWXText.react"),{numberOfLines:1,type:"meta4",children:[o,k.jsx(c("BaseMiddot.react"),{}),"Instagram"]}):void 0;b[7]=m;b[8]=n;b[9]=p;b[10]=o;b[11]=s}else s=b[11];b[13]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"xurb0ha x1sxyh0"},b[13]=a):a=b[13];b[14]!==r||b[15]!==g||b[16]!==i||b[17]!==s||b[18]!==e||b[19]!==f?(q=function(a){return k.jsx(c("MDSListCellPressable.react"),{addOnStart:r,content:k.jsx(c("MDSTextPairing.react"),{headline:g,level:4,meta:s,reduceEmphasis:!0}),disabled:!1,onPress:function(){return e([f])},ref:a,selected:!1,size:"medium",testid:void 0})},b[14]=r,b[15]=g,b[16]=i,b[17]=s,b[18]=e,b[19]=f,b[20]=q):q=b[20];b[21]!==i||b[22]!==q?(l=k.jsx(c("ActorHovercard.react"),{actorID:i,position:"start",children:q}),b[21]=i,b[22]=q,b[23]=l):l=b[23];b[24]!==i||b[25]!==l?(m=k.createElement("li",babelHelpers["extends"]({},a,{key:i}),l),b[24]=i,b[25]=l,b[26]=m):m=b[26];return m}g["default"]=a}),226);
__d("MWLightSpeedChatTabSuggestedContacts.react",["CometScrollableArea.react","MWCMLightSpeedChatTabActionViewItems.react","MWLightSpeedChatTabSuggestedContactItem.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={contactsList:{paddingTop:"x1y1aw1k",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(8),e=a.setTokens;a=a.tokens;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=i.jsx(c("MWCMLightSpeedChatTabActionViewItems.react"),{}),b[0]=f):f=b[0];if(b[1]!==e||b[2]!==a){var g;b[4]!==e?(g=function(a){return i.jsx(c("MWLightSpeedChatTabSuggestedContactItem.react"),{setTokens:e,token:a},a.key)},b[4]=e,b[5]=g):g=b[5];g=a.map(g);b[1]=e;b[2]=a;b[3]=g}else g=b[3];b[6]!==g?(a=i.jsxs(c("CometScrollableArea.react"),{horizontal:!0,testid:void 0,xstyle:j.contactsList,children:[f,i.jsx("ul",{children:g})]}),b[6]=g,b[7]=a):a=b[7];return a}g["default"]=a}),98);
__d("MWLightSpeedChatTabContactsContainer.react",["CometTransientDialogProvider.react","LSIntEnum","MNetRankType","MWChatSearchFetchContactRecommendations","MWLightSpeedChatTabSuggestedContacts.react","createMWChatSearchTypeaheadDataEntry","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));h.useMemo;function a(a){var b=d("react-compiler-runtime").c(6),e=a.isSearchView;a=a.setTokens;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=(i||(i=d("LSIntEnum"))).ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE),b[0]=f):f=b[0];f=d("MWChatSearchFetchContactRecommendations").useChatSearchContactRecommendations(f);var g;b[1]!==f?(g=f.map(k),b[1]=f,b[2]=g):g=b[2];f=g;g=f;if(e)return null;b[3]!==a||b[4]!==g?(f=j.jsx(c("CometTransientDialogProvider.react"),{children:j.jsx(c("MWLightSpeedChatTabSuggestedContacts.react"),{setTokens:a,tokens:g})}),b[3]=a,b[4]=g,b[5]=f):f=b[5];return f}function k(a){a=a[0];return c("createMWChatSearchTypeaheadDataEntry")(a)}g["default"]=a}),98);
__d("MessengerWebGroupCreationLogger",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MessengerGroupCreationEventsFalcoEvent").__setRef("MessengerWebGroupCreationLogger");function a(a){var b=a.entry_point,c=a.error_code,d=a.error_code_description,e=a.event_name,f=a.group_size_at_creation,g=a.offline_threading_id,i=a.participant_ids_at_creation,j=a.succeeded,k=a.thread_fbid,l=a.thread_type,m=a.user_entered_group_name;h.onReady(function(a){return a.log(function(){return{entry_point:b,error_code:c,error_code_description:d,event_name:e,group_size_at_creation:f,offline_threading_id:g,participant_ids_at_creation:i,succeeded:j,thread_fbid:k,thread_type:l,user_entered_group_name:m}})})}g.logMessengerGroupCreationEventsFalcoEvent=a}),98);
__d("MWLogGroupThreadCreationEvent",["I64","LSMessagingThreadTypeUtil","LSResult","MWV2OnAuthoritativeThreadInsert","MessengerWebGroupCreationLogger","ReQL","asyncToGeneratorRuntime","coerceMessagingThreadTypeToLSThreadType","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e,f){var g=e==null?void 0:e.clientThreadKey;if(g==null)return;d("MWV2OnAuthoritativeThreadInsert").onAuthoritativeThreadInsert(c("LSResult")(g),a,function(g){var i=d("LSMessagingThreadTypeUtil").isGroup(g.threadType);if(!i)return;c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b;b=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.participants).getKeyRange((b=g==null?void 0:g.threadKey)!=null?b:(h||(h=d("I64"))).zero).map(function(a){return(h||(h=d("I64"))).to_string(a.contactId)})));d("MessengerWebGroupCreationLogger").logMessengerGroupCreationEventsFalcoEvent({entry_point:f,event_name:"group_thread_created_authoritatively",group_size_at_creation:""+b.length,offline_threading_id:(e==null?void 0:e.threadKey)!=null?(h||(h=d("I64"))).to_string(e==null?void 0:e.threadKey):null,participant_ids_at_creation:b,succeeded:!0,thread_fbid:(h||(h=d("I64"))).to_string(g.threadKey),thread_type:c("coerceMessagingThreadTypeToLSThreadType")(g.threadType)})})())})}g.logGroupThreadAuthoritativeCreationEvent=a}),98);
__d("MWV2ComposeTabHeader.react",["fbt","MWV2HeaderCloseButton.react","MWV2HeaderContainer.react","MWXText.react","QPLUserFlow","qpl","react","react-compiler-runtime","useMWV2CloseTab"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function k(){var a=d("react-compiler-runtime").c(2),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={className:"x1sln4lm"},a[0]=b):b=a[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx("div",babelHelpers["extends"]({},b,{children:j.jsx(c("MWXText.react"),{isSemanticHeading:!0,type:"headline4",children:h._(/*BTDS*/"__JHASH__uhF6__U4Uqu__JHASH__")})})),a[1]=b):b=a[1];return b}function a(a){var b=d("react-compiler-runtime").c(6),e=a.tab;a=a.thread;var f=c("useMWV2CloseTab")(a==null?void 0:a.threadKey,e);b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"__JHASH__1QV0CKBqQm1__JHASH__"),b[0]=a):a=b[0];b[1]!==f?(e=j.jsx(c("MWV2HeaderCloseButton.react"),{label:a,onPress:function(){f(),c("QPLUserFlow").endCancel(c("qpl")._(25312244,"1683"))}}),b[1]=f,b[2]=e):e=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx(k,{}),b[3]=a):a=b[3];b[4]!==e?(a=j.jsx(c("MWV2HeaderContainer.react"),{divider:!1,endContent:e,startContent:a}),b[4]=e,b[5]=a):a=b[5];return a}g["default"]=a}),226);
__d("MWV2LockInTabContextProvider.react",["LSAuthorityLevel","LSIntEnum","MWChatStateActions","MWChatStateV2.react","MWChatStateV2Types","MWV2ComposerActionsContext.react","react","react-compiler-runtime","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));h.useCallback;function k(a){var b=d("react-compiler-runtime").c(12),e=a.tab;a=a.thread;var f=d("MWChatStateV2.react").useDispatch(),g=e.tabId,h=e.tabType;b[0]!==a?(e=a||{},b[0]=a,b[1]=e):e=b[1];a=e;e=a.authorityLevel;var j=a.clientThreadKey,k=a.threadKey,l=a.threadType;b[2]!==e?(a=e!=null?(i||(i=d("LSIntEnum"))).toNumber(e):void 0,b[2]=e,b[3]=a):a=b[3];var m=a;b[4]!==m||b[5]!==j||b[6]!==f||b[7]!==g||b[8]!==h.type||b[9]!==k||b[10]!==l?(e=function(a){if(h.type!==d("MWChatStateV2Types").MWChatStateTabType.ComposeTab||m==null)return;if(!a&&m===c("LSAuthorityLevel").OPTIMISTIC)return;if(k==null||l==null){c("recoverableViolation")("Unexpected nullish thread in lockInTab","messenger_web_entrypoints");return}f(d("MWChatStateActions").lockInTab(g,{clientThreadKey:j,threadKey:k,threadType:l}))},b[4]=m,b[5]=j,b[6]=f,b[7]=g,b[8]=h.type,b[9]=k,b[10]=l,b[11]=e):e=b[11];return e}function a(a){var b=d("react-compiler-runtime").c(6),c=a.children,e=a.tab;a=a.thread;var f;b[0]!==e||b[1]!==a?(f={tab:e,thread:a},b[0]=e,b[1]=a,b[2]=f):f=b[2];e=k(f);b[3]!==c||b[4]!==e?(a=j.jsx(d("MWV2ComposerActionsContext.react").MWV2ComposerActionsListener,{onMessageSendAttempt:e,children:c}),b[3]=c,b[4]=e,b[5]=a):a=b[5];return a}g["default"]=a}),98);
__d("MWV2NewThreadUtils",["I64","LSContactBlockedByViewerStatus","LSIntEnum","LSSearchType","MWChatInteraction","MWChatSearchResultType","MWInteropTokenUtils","MWLSDatabaseLazySync","MWThreadCreationUtil","MessengerWebEventsFalcoEvent","promiseDone","react","react-compiler-runtime","recoverableViolation","useMWNewChatOpenTabTraceProvider"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react"),l=k.useCallback,m=k.useEffect;k.useMemo;var n=k.useState;function o(a,b){if(a===c("MWChatSearchResultType").GROUP)return c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"search_click_result",thread_fbid:b}});if(a===c("MWChatSearchResultType").MESSAGE){c("recoverableViolation")("Was not expecting a message search result in a contact search typeahead","messenger_web_search");return}return c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"search_click_result",other_user_fbid:b}})}function a(){var a=d("react-compiler-runtime").c(4),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=(i||(i=d("LSIntEnum"))).ofNumber(7),a[0]=b):b=a[0];var e=d("MWLSDatabaseLazySync").useSync(b),f;a[1]!==e?(b=function(){c("promiseDone")(e())},f=[e],a[1]=e,a[2]=b,a[3]=f):(b=a[2],f=a[3]);m(b,f)}var p=[];function b(a){var b=d("react-compiler-runtime").c(7),e;b[0]!==a?(e=function(){return a},b[0]=a,b[1]=e):e=b[1];e=n(e);var f=e[0],g=e[1],h=c("useMWNewChatOpenTabTraceProvider")();b[2]!==h?(e=function(a){return h(function(b){d("MWChatInteraction").set("open_with_tokens",b),g(function(){return a.filter(q)})},"chatheadsNewMessage")},b[2]=h,b[3]=e):e=b[3];e=e;var i;b[4]!==e||b[5]!==f?(i=[f,e,p],b[4]=e,b[5]=f,b[6]=i):i=b[6];return i}function q(a){return!d("MWInteropTokenUtils").isInteropWithoutGxacSupport(a)}function e(a,b){var e=d("react-compiler-runtime").c(5);if(e[0]!==b||e[1]!==a){var f;e[3]!==b?(f=function(a){a=a.rawData;var e=a.resultType,f=a.isInstagramAccount===!0,g=a.isContact,h=a.otherUserId;h=h!=null?h:a.id;f?f=g?(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING):(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING):e===c("MWChatSearchResultType").USER?f=(i||(i=d("LSIntEnum"))).ofNumber(g?c("LSSearchType").CONTACT:c("LSSearchType").NONCONTACT):e===c("MWChatSearchResultType").PAGE?f=(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").PAGE):e===c("MWChatSearchResultType").GROUP?f=(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").GROUP):(c("recoverableViolation")("Had troubles converting search result to token.\n              Is Contact: "+(g?"true":"false")+"\n              Token Type: "+e,"messenger_web_search"),f=(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").NONCONTACT));g=a.displayName;var k=a.subtext,l=a.verificationStatus;return{blockedByViewerStatus:(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contextLine:k,displayName:g,id:(j||(j=d("I64"))).of_string(h),isInteropEligible:a.isInteropEligible,isVerified:l!=null?l!=="NOT_VERIFIED":void 0,profilePicUrl:a.imageUrl,secondaryProfilePicUrl:a.secondaryImageUrl,threadType:e===c("MWChatSearchResultType").USER?b?(i||(i=d("LSIntEnum"))).ofNumber(15):(i||(i=d("LSIntEnum"))).ofNumber(1):e===c("MWChatSearchResultType").GROUP?(i||(i=d("LSIntEnum"))).ofNumber(2):(i||(i=d("LSIntEnum"))).ofNumber(1),type_:f}},e[3]=b,e[4]=f):f=e[4];f=a.filter(r).map(f);e[0]=b;e[1]=a;e[2]=f}else f=e[2];a=f;return a}function r(a){return!d("MWInteropTokenUtils").isInteropWithoutGxacSupport(a)}function f(a,b,c){return l(function(e){a&&b.length<d("MWThreadCreationUtil").E2EE_GROUP_SIZE_LIMIT?c(!0):c(e)},[a,c,b.length])}function s(a,b,e,f){var g=d("react-compiler-runtime").c(5),h;g[0]!==a||g[1]!==b||g[2]!==e||g[3]!==f?(h=function(g){var h=g.rawData,k=h.id,l=h.resultType,m=h.isAiBot,n=function(a){b(!0);return e({clientThreadKey:void 0,threadKey:(j||(j=d("I64"))).of_string(k),threadType:a})};((h=h.isInstagramAccount)!=null?h:!1)&&f(!1);a||o(l,k);h=d("MWInteropTokenUtils").isInteropWithoutGxacSupport(g);if(l===c("MWChatSearchResultType").USER)if(h||m===!0)return n((i||(i=d("LSIntEnum"))).ofNumber(1));else return;else if(l===c("MWChatSearchResultType").GROUP){h=g.rawData.threadType;return n((i||(i=d("LSIntEnum"))).ofNumber(h!=null?(i||(i=d("LSIntEnum"))).unwrapIntEnum(h):2))}else if(l===c("MWChatSearchResultType").MESSAGE){c("recoverableViolation")("Was not expecting a message search result in a contact search typeahead","messenger_web_product");return}else return n(a?(i||(i=d("LSIntEnum"))).ofNumber(15):(i||(i=d("LSIntEnum"))).ofNumber(1))},g[0]=a,g[1]=b,g[2]=e,g[3]=f,g[4]=h):h=g[4];return h}g.useSyncRanking=a;g.useTokens=b;g.useTokensShimmed=e;g.useUpdateAreWeCreatingASecureThread=f;g.useOnAddToken=s}),98);
__d("useLinkNewThreadToInteractionUUID",["I64","Int64Hooks","MWChatInteraction","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var c=d("react-compiler-runtime").c(6),e;c[0]!==b||c[1]!==a?(e=function(){(a==null?void 0:a.threadKey)!=null&&b!=null&&d("MWChatInteraction").set((h||(h=d("I64"))).to_string(a.threadKey),b)},c[0]=b,c[1]=a,c[2]=e):e=c[2];var f=a==null?void 0:a.threadKey,g;c[3]!==b||c[4]!==f?(g=[f,b],c[3]=b,c[4]=f,c[5]=g):g=c[5];d("Int64Hooks").useEffectInt64(e,g)}g["default"]=a}),98);
__d("useMAWMaybeRedirectComposeViewToSecureGroupThread",["MWThreadCreationUtil","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a,b,c,e){var f=d("react-compiler-runtime").c(11),g=d("MWThreadCreationUtil").useCheckE2EEligibilityForEachContact(b,a),h;f[0]!==g||f[1]!==c||f[2]!==e||f[3]!==b.length?(h=function(){if(b.length<2)return;var a=b.length>1&&b.length<d("MWThreadCreationUtil").E2EE_GROUP_SIZE_LIMIT;if(!a){e(!1);return}a&&c&&e(g())},f[0]=g,f[1]=c,f[2]=e,f[3]=b.length,f[4]=h):h=f[4];var j;f[5]!==a||f[6]!==g||f[7]!==c||f[8]!==e||f[9]!==b?(j=[a,g,c,e,b],f[5]=a,f[6]=g,f[7]=c,f[8]=e,f[9]=b,f[10]=j):j=f[10];i(h,j)}g["default"]=a}),98);
__d("useMAWMaybeRedirectComposeViewToSecureOneToOneThread",["CometRelay","I64","MAWOnDemandCutoverTrigger","MWThreadCreationUtil","MaybeTriggerOnDemandCutover","Promise","asyncToGeneratorRuntime","cr:13129","gkx","promiseDone","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=i||d("react");var k=e.useEffect,l=e.useState;function a(a,e,f,g,i,m){var n=d("react-compiler-runtime").c(11),o=l(!1),p=o[0],q=o[1],r=d("CometRelay").useRelayEnvironment(),s;n[0]!==a||n[1]!==m||n[2]!==r||n[3]!==e||n[4]!==g||n[5]!==i||n[6]!==f?(o=function(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(e&&f.length===1){var k=f[0];q(!0);if(c("gkx")("6006")){i(null);var l=(yield d("MWThreadCreationUtil").getIsSecureBasedOnContactCapabilitiesForOneToOneThreadV2(k,r,a)),n=l.isSecureThread;l=l.reason;g(n||l==="on_demand_cutover");l==="on_demand_cutover"&&d("MAWOnDemandCutoverTrigger").triggerOnDemandCutoverAndCreateSecureThread(a,(j||(j=d("I64"))).of_string(k.rawData.id),m);q(!1)}else{n=(yield b("cr:13129")({isTargetE2E:!1,targetID:k.rawData.id,targetType:"USER"},a));l=n?new(h||(h=b("Promise")))(function(b){d("MAWOnDemandCutoverTrigger").triggerOnDemandCutoverAndCreateSecureThread(a,(j||(j=d("I64"))).of_string(k.rawData.id),m),b()}):c("MaybeTriggerOnDemandCutover")({isTargetE2E:!1,targetID:k.rawData.id,targetType:"USER"},a,m);c("promiseDone")(l.then(function(){var b=d("MWThreadCreationUtil").getIsSecureBasedOnContactCapabilitiesForOneToOneThreadV2(k,r,a).then(function(a){var b=a.isSecureThread;a=a.reason;g(b||a==="on_demand_cutover")});q(!1);c("promiseDone")(b)}))}}})())},s=[f,g,a,e,i,m,r],n[0]=a,n[1]=m,n[2]=r,n[3]=e,n[4]=g,n[5]=i,n[6]=f,n[7]=o,n[8]=s):(o=n[7],s=n[8]);k(o,s);n[9]!==p?(o={isCutoverInProgress:p},n[9]=p,n[10]=o):o=n[10];return o}g["default"]=a}),98);
__d("useMWSearchTypeaheadViewItemIsDisabled",["MWInteropTokenUtils","cr:4831","react"],(function(a,b,c,d,e,f,g){"use strict";var h;c=h||d("react");var i=c.useCallback,j=c.useMemo;function a(a,c){var e=j(function(){return[a.some(d("MWInteropTokenUtils").isInterop),a.some(function(a){return!d("MWInteropTokenUtils").isGxacEligible(a)})]},[a]),f=e[0],g=e[1];e=(e=b("cr:4831")==null?void 0:b("cr:4831")(a,c))!=null?e:[!1,!1];var h=e[0],k=e[1];return i(function(a){var b=d("MWInteropTokenUtils").isInterop(a),e=!d("MWInteropTokenUtils").isGxacEligible(a);a=!d("MWInteropTokenUtils").isInteropEligible(a);if(h||b&&k||b&&c||g&&b||f&&e)return!0;else if(b)return a;else return!1},[f,g,c,h,k])}g["default"]=a}),98);
__d("useMWThreadListNewMessage",["MWInteropTokenUtils","MWThreadListNewMessageState.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a){var b=d("react-compiler-runtime").c(7),c=d("MWThreadListNewMessageState.react").useDispatch(),e,f;b[0]!==c?(e=function(){c({isActive:!0,type:d("MWThreadListNewMessageState.react").MWThreadListNewMessageStateActionType.SetIsActive});return function(){return c({type:d("MWThreadListNewMessageState.react").MWThreadListNewMessageStateActionType.ResetIfEmpty})}},f=[c],b[0]=c,b[1]=e,b[2]=f):(e=b[1],f=b[2]);i(e,f);b[3]!==c||b[4]!==a?(e=function(){c({entries:a.filter(j),type:d("MWThreadListNewMessageState.react").MWThreadListNewMessageStateActionType.SetEntries})},f=[c,a],b[3]=c,b[4]=a,b[5]=e,b[6]=f):(e=b[5],f=b[6]);i(e,f)}function j(a){return!d("MWInteropTokenUtils").isInteropWithoutGxacSupport(a)}g["default"]=a}),98);
__d("MWV2ComposeTab.react",["CometHeroInteractionWithDiv.react","CometPlaceholder.react","FDSProgressRingIndeterminate.react","I64","JSResourceForInteraction","LSThreadAttributionStore","MWChatInteraction","MWChatLightSpeedSearchTypeahead.react","MWChatSearchSurfaces","MWChatStateActions","MWChatStateV2.react","MWChatStateV2Types","MWChatTabsTokenizerLayoutInlineStrategy.react","MWChatTemporarySearchResult","MWChatTokenizerTokenStrategy.react","MWInteropTokenUtils","MWLightSpeedChatTabContactsContainer.react","MWLogGroupThreadCreationEvent","MWOpenAndSecureThreadView.react","MWPNewMessageDraftContext.react","MWPReplyContext.react","MWPThreadThemeProvider.react","MWV2ComposeTabHeader.react","MWV2ComposerHasContentContext.react","MWV2FileDropzone.react","MWV2LockInTabContextProvider.react","MWV2NewThreadUtils","MWV2TabContainer","MWXRelayComposer.react","cr:4185","createMWChatSearchTypeaheadDataEntry","gkx","isTlcSearchEnabled","lazyLoadComponent","react","react-compiler-runtime","useLinkNewThreadToInteractionUUID","useMAWMaybeRedirectComposeViewToSecureGroupThread","useMAWMaybeRedirectComposeViewToSecureOneToOneThread","useMWSearchTypeaheadViewItemIsDisabled","useMWThreadListNewMessage","usePrevious","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));e=i;var l=e.memo,m=e.useCallback,n=e.useContext,o=e.useEffect,p=e.useMemo,q=e.useState,r=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPThreadPreview.react").__setRef("MWV2ComposeTab.react"));function s(a){var b=d("react-compiler-runtime").c(5),e=a.length,f=c("usePrevious")(e);a=n(d("MWPReplyContext.react").MWPReplyContext);var g=a.clearReply,h;b[0]!==g||b[1]!==e||b[2]!==f?(a=function(){f!=null&&e!==f&&g((j||(j=d("I64"))).zero,!0)},h=[e,f,g],b[0]=g,b[1]=e,b[2]=f,b[3]=a,b[4]=h):(a=b[3],h=b[4]);o(a,h)}var t=c("isTlcSearchEnabled")();function a(a){var e=a.initialTokens,f=a.tab,g=(h||(h=c("useReStore")))();d("MWV2NewThreadUtils").useSyncRanking();a=q();var i=a[0];a=a[1];var l=f.tabType,n=l.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab?l.secureThreadToggleEnabled:!1;l=q(function(){return n});var u=l[0];l=l[1];var v=d("MWChatInteraction").get("open_new");c("useLinkNewThreadToInteractionUUID")(i,v);e=e.map(function(a){return c("createMWChatSearchTypeaheadDataEntry")(d("MWChatTemporarySearchResult").fromContact(void 0,u,a))});e=d("MWV2NewThreadUtils").useTokens(e);var w=e[0],x=e[1];e=e[2];var y=d("MWV2NewThreadUtils").useUpdateAreWeCreatingASecureThread(n,w,l);l=d("MWV2NewThreadUtils").useTokensShimmed(w,u);c("useMWThreadListNewMessage")(w);s(w);var z=q(!1),A=z[0],B=z[1],C=d("MWChatStateV2.react").useDispatch();z=function(a){return C(d("MWChatStateActions").lockInTab(f.tabId,a))};z=d("MWV2NewThreadUtils").useOnAddToken(u,B,z,y);var D=m(function(){d("MWLogGroupThreadCreationEvent").logGroupThreadAuthoritativeCreationEvent(g,i,"web_fb_chattab_create_new_group"),B(!0)},[g,i]),E=p(function(){return d("MWChatTabsTokenizerLayoutInlineStrategy.react").createMWChatTabsTokenizerLayoutInlineStrategy()},[]),F=c("useMWSearchTypeaheadViewItemIsDisabled")(w,u),G=p(function(){return w.some(d("MWInteropTokenUtils").isInterop)},[w]),H=JSON.stringify(i==null?void 0:i.threadKey),I=c("useMAWMaybeRedirectComposeViewToSecureOneToOneThread")(g,t,w,y,a,"omnipicker");I=I.isCutoverInProgress;var J=k.jsx(c("CometPlaceholder.react"),{fallback:k.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 x1iyjqo2 xl56j7k"},{children:k.jsx(c("FDSProgressRingIndeterminate.react"),{color:"disabled_DEPRECATED",size:24})})),name:"MWV2ComposeTab.NullState",children:k.jsx(c("MWLightSpeedChatTabContactsContainer.react"),{isSearchView:!1,setTokens:x})}),K=c("gkx")("3046"),L=p(function(){return b("cr:4185")==null?null:k.jsx("div",babelHelpers["extends"]({className:"x7m3og9 xyinxu5 x1g2khh7 x1pi30zi x1swvt13 xjl7jj"},{children:k.jsx(b("cr:4185"),{areWeCreatingASecureThread:u,disabled:G,setAreWeCreatingASecureThread:y,stretch:!0})}))},[u,G]),M=p(function(){return{footer:K?null:L}},[K,L]);D=i!=null?k.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWV2ComposeTab.PreviewThread",children:k.jsx(c("MWPThreadThemeProvider.react"),{themeFbid:i.themeFbid,children:k.jsx(c("MWXRelayComposer.react"),{afterSendMessage:D,isPreviewThread:!0,threadKey:i.threadKey})})}):null;o(function(){if(i!=null){var a=d("LSThreadAttributionStore").getSourceForNewThread();a!=null&&d("LSThreadAttributionStore").setSource((j||(j=d("I64"))).to_string(i.threadKey),a)}},[H]);H=u?c("MWChatSearchSurfaces").omnipickerArmadillo:c("MWChatSearchSurfaces").omnipicker;c("useMAWMaybeRedirectComposeViewToSecureGroupThread")(g,w,t,y);return k.jsx(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"MWV2_CHAT_TAB",interactionUUID:v,pageletName:"ChatTab",children:k.jsx(c("MWPThreadThemeProvider.react"),{children:k.jsx(d("MWPNewMessageDraftContext.react").MWPNewMessageDraftContextProvider,{children:k.jsx(d("MWV2ComposerHasContentContext.react").MWV2ComposerHasContentContextProvider,{children:k.jsx(c("MWV2TabContainer"),{tab:f,threadKey:(v=i==null?void 0:i.threadKey)!=null?v:void 0,children:k.jsxs("div",babelHelpers["extends"]({className:"x78zum5 xdt5ytf x5yr21d x1ja2u2z"},{children:[k.jsx(c("MWV2ComposeTabHeader.react"),{tab:f,thread:(v=i)!=null?v:void 0}),k.jsx(d("MWV2FileDropzone.react").MWV2FileDropzone,{isMediaOnly:G,thread:(v=i)!=null?v:void 0,children:k.jsxs("div",babelHelpers["extends"]({className:"x78zum5 xdt5ytf x1iyjqo2 x2lwn1j x1n2onr6 x1vjfegm"},{children:[k.jsx(c("MWChatLightSpeedSearchTypeahead.react"),{excludedIDs:e,extraLayoutProps:M,getIsViewItemDisabled:F,includeRecommendations:!1,isDisabled:A,isSecure:u,layoutStategyRenderer:E,onAddToken:z,onChangeTokens:x,source:H,tokenItemRenderer:c("MWChatTokenizerTokenStrategy.react"),tokens:w}),k.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWV2ComposeTab.ThreadPreview",children:k.jsx(c("MWV2LockInTabContextProvider.react"),{tab:f,thread:i,children:k.jsx(r,{areWeCreatingASecureThread:u,isCutoverInProgress:I,nullstate:J,renderThreadView:function(a){return k.jsx(c("MWOpenAndSecureThreadView.react"),{thread:a})},secureThreadToggleEnabled:n,setPreviewThread:a,tokens:l,children:D})})})]}))})]}))})})})})})}a.displayName=a.name+" [from "+f.id+"]";e=l(a);g["default"]=e}),98);
__d("useHasGroupLimitBeenReachedForSearchEntry",["MWGroupLimitConfig","MWInteropTokenUtils","MWXacGating","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;function a(a,b){var c=d("react-compiler-runtime").c(5),e;e=d("MWXacGating").isGroupsEnabled()&&a.some(d("MWInteropTokenUtils").isInterop);e=e;a=a.length;e=e?a>=d("MWGroupLimitConfig").gxac-1:b?a>=d("MWGroupLimitConfig").armadillo()-1:a>=d("MWGroupLimitConfig").nonGxac-1;c[0]!==a?(b=d("MWXacGating").isGroupsEnabled()&&a>=d("MWGroupLimitConfig").gxac,c[0]=a,c[1]=b):b=c[1];a=b;c[2]!==e||c[3]!==a?(b=[e,a],c[2]=e,c[3]=a,c[4]=b):b=c[4];return b}g["default"]=a}),98);